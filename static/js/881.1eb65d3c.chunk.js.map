{"version":3,"file":"static/js/881.1eb65d3c.chunk.js","mappings":"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","sources":["components/Api.js","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '6f157e49e729f31d4a7c0245fe6212a7';\n\nconst getTrendingMovies = async () => {\n  try {\n    const resp = await axios.get(`${BASE_URL}/trending/movie/day`, {\n      params: {\n        api_key: KEY,\n      },\n    });\n\n    return await resp.data.results;\n  } catch (err) {\n    console.error(err.stack);\n  }\n};\n\nconst getMovieByQuery = async query => {\n  try {\n    const resp = await axios.get(`${BASE_URL}/search/movie`, {\n      params: {\n        api_key: KEY,\n        query,\n      },\n    });\n\n    return await resp.data.results;\n  } catch (err) {\n    console.error(err.stack);\n  }\n};\n\nconst getMovieDetails = async id => {\n  try {\n    const resp = await axios.get(`${BASE_URL}/movie/${id}`, {\n      params: {\n        api_key: KEY,\n      },\n    });\n\n    return await resp.data;\n  } catch (err) {\n    console.error(err.stack);\n  }\n};\n\nconst getMovieCredits = async id => {\n  try {\n    const resp = await axios.get(`${BASE_URL}/movie/${id}/credits`, {\n      params: {\n        api_key: KEY,\n      },\n    });\n\n    return await resp.data;\n  } catch (err) {\n    console.error(err.stack);\n  }\n};\n\nconst getMovieReviews = async id => {\n  try {\n    const resp = await axios.get(`${BASE_URL}/movie/${id}/reviews`, {\n      params: {\n        api_key: KEY,\n      },\n    });\n\n    return await resp.data.results;\n  } catch (err) {\n    console.error(err.stack);\n  }\n};\n\nconst Api = {\n  getTrendingMovies,\n  getMovieByQuery,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n\nexport default Api;\n","// extracted by mini-css-extract-plugin\nexport default {\"position\":\"Loader_position__3ws81\"};","import React from 'react';\nimport { ColorRing } from 'react-loader-spinner';\nimport css from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={css.position}>\n      <ColorRing\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Movies_searchbar__IBimh\",\"form\":\"Movies_form__4ow+Z\",\"searchFormButton\":\"Movies_searchFormButton__C6hnw\",\"searchFormButtonLabel\":\"Movies_searchFormButtonLabel__KbGWe\",\"searchFormInput\":\"Movies_searchFormInput__9CWXR\",\"moviesTitle\":\"Movies_moviesTitle__AfHoj\"};","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport css from './Movies.module.css';\nimport Api from 'components/Api';\nimport Loader from 'components/Loader/Loader';\n\nconst Movies = ({ getMovieByQuery }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      if (searchQuery.trim() === '') {\n        return;\n      }\n\n      setLoading(true);\n\n      try {\n        const movies = await Api.getMovieByQuery(searchQuery);\n        setMovies(movies);\n        setLoading(false);\n      } catch (error) {\n        console.error('Błąd podczas pobierania filmów:', error);\n        setLoading(false);\n      }\n    };\n\n    fetchMovies();\n  }, [searchQuery]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    getMovieByQuery(searchQuery);\n  };\n\n  const handleInputChange = event => {\n    const searchQuery = event.target.value;\n    setSearchQuery(searchQuery);\n    setMovies([]);\n  };\n\n  return (\n    <>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={css.searchFormButton}>\n          <span className={css.searchFormButtonaLabel}>Szukaj</span>\n        </button>\n        <input\n          name=\"query\"\n          className={css.searchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Szukaj filmów\"\n          value={searchQuery}\n          onChange={handleInputChange}\n        />\n      </form>\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(({ id, title }) => (\n            <li key={id}>\n              <Link\n                to={`${id}`}\n                state={{ from: location }}\n                className={css.moviesTitle}\n              >\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      {loading && <Loader />}\n    </>\n  );\n};\n\nMovies.propTypes = {\n  getMovieByQuery: PropTypes.func.isRequired,\n};\n\nexport default Movies;\n"],"names":["BASE_URL","KEY","getTrendingMovies","axios","params","api_key","resp","data","results","console","error","stack","getMovieByQuery","query","getMovieDetails","id","getMovieCredits","getMovieReviews","Api","className","css","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","useState","searchQuery","setSearchQuery","movies","setMovies","loading","setLoading","location","useLocation","useEffect","fetchMovies","trim","onSubmit","event","preventDefault","type","name","autoComplete","autoFocus","placeholder","value","onChange","target","length","map","title","to","state","from","Loader"],"sourceRoot":""}